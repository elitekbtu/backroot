# –†–µ–∞–ª—å–Ω—ã–µ 3D –ê–≤–∞—Ç–∞—Ä—ã –¥–ª—è TalkingHead

## –û–±–∑–æ—Ä

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö 3D –∞–≤–∞—Ç–∞—Ä–æ–≤ –≤ TalkingHead —Å–∏—Å—Ç–µ–º—É —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ GLB/GLTF –º–æ–¥–µ–ª–µ–π –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –∞–≤–∞—Ç–∞—Ä–æ–≤.

## üé≠ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ê–≤–∞—Ç–∞—Ä–æ–≤

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤

#### 1. **Ready Player Me** (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **URL**: https://readyplayer.me/
- **–§–æ—Ä–º–∞—Ç**: GLB
- **–õ–∏—Ü–µ–Ω–∑–∏—è**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: 
  - –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π
  - –ì–æ—Ç–æ–≤—ã–µ –¥–ª—è lip-sync
  - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Å—Ç–∏–ª–µ–π

#### 2. **Mixamo** (Adobe)
- **URL**: https://www.mixamo.com/
- **–§–æ—Ä–º–∞—Ç**: FBX, GLB
- **–õ–∏—Ü–µ–Ω–∑–∏—è**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ —Å –∞–∫–∫–∞—É–Ω—Ç–æ–º Adobe
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
  - –†–∞–∑–ª–∏—á–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∏–≥–≥–∏–Ω–≥

#### 3. **Poly Haven** (CC0)
- **URL**: https://polyhaven.com/
- **–§–æ—Ä–º–∞—Ç**: GLB, GLTF
- **–õ–∏—Ü–µ–Ω–∑–∏—è**: CC0 (Public Domain)
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ
  - –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
  - –†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏

#### 4. **Sketchfab** (–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ)
- **URL**: https://sketchfab.com/
- **–§–æ—Ä–º–∞—Ç**: GLB, GLTF
- **–õ–∏—Ü–µ–Ω–∑–∏—è**: –†–∞–∑–ª–∏—á–Ω—ã–µ (CC, Attribution)
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –û–≥—Ä–æ–º–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
  - –†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏
  - –§–∏–ª—å—Ç—Ä—ã –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–≤–∞—Ç–∞—Ä—ã

#### –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã
```javascript
const realisticAvatars = [
  {
    name: "Alex - Business Professional",
    url: "https://models.readyplayer.me/64a1a5c8e4b0a8a4b0a8a4b0.glb",
    category: "realistic",
    gender: "male",
    age: "adult"
  },
  {
    name: "Sarah - Casual Style", 
    url: "https://models.readyplayer.me/64a1a5c8e4b0a8a4b0a8a4b1.glb",
    category: "realistic",
    gender: "female", 
    age: "young"
  }
];
```

#### –ú—É–ª—å—Ç—è—à–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã
```javascript
const cartoonAvatars = [
  {
    name: "Buddy - Friendly Robot",
    url: "https://cdn.glitch.me/36cb8393-65c6-408d-a538-055ada20431b/Robot.glb",
    category: "cartoon",
    gender: "neutral",
    age: "adult"
  }
];
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### GLTFLoader Setup
```typescript
import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';

const loader = new GLTFLoader();
const gltf = await loader.loadAsync(avatarUrl);
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–µ—à–µ–π
```typescript
private findHeadAndMouthMeshes(object: THREE.Object3D) {
  object.traverse((child) => {
    if (child instanceof THREE.Mesh) {
      const name = child.name.toLowerCase();
      
      if (name.includes('head') || name.includes('face')) {
        this.headMesh = child;
      }
      
      if (name.includes('mouth') || name.includes('lip')) {
        this.mouthMesh = child;
      }
    }
  });
}
```

### Lip-sync —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
```typescript
// –ü–æ–¥–¥–µ—Ä–∂–∫–∞ morph targets
if (targetMesh instanceof THREE.Mesh && targetMesh.morphTargetInfluences) {
  this.applyMorphTargets(targetMesh, phoneme);
}
```

## üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤
- **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** –∞–≤–∞—Ç–∞—Ä–æ–≤
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–∏—Ü–µ–Ω–∑–∏–∏** –∏ —Ä–∞–∑–º–µ—Ä–µ
- **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–∞–º–∏
- **–ö–Ω–æ–ø–∫–∞ "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞"** –¥–ª—è –≤—ã–±–æ—Ä–∞ –∞–≤–∞—Ç–∞—Ä–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞
- **Fallback –Ω–∞ placeholder** –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞** –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

## üé® –°—Ç–∏–ª–∏ –∞–≤–∞—Ç–∞—Ä–æ–≤

### 1. –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ
- **–í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** —Ç–µ–∫—Å—Ç—É—Ä
- **–î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è**
- **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏**
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π**

### 2. –ú—É–ª—å—Ç—è—à–Ω—ã–µ
- **–°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω**
- **–Ø—Ä–∫–∏–µ —Ü–≤–µ—Ç–∞**
- **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è**
- **–í—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ —á–µ—Ä—Ç—ã**

### 3. –ê–Ω–∏–º–µ
- **–Ø–ø–æ–Ω—Å–∫–∏–π —Å—Ç–∏–ª—å**
- **–ë–æ–ª—å—à–∏–µ –≥–ª–∞–∑–∞**
- **–°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏**
- **–Ø—Ä–∫–∏–µ —Ü–≤–µ—Ç–∞**

### 4. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ
- **–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å**
- **–ù–µ–æ–±—ã—á–Ω—ã–µ —Ñ–æ—Ä–º—ã**
- **–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥**

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
```typescript
// Lazy loading –∞–≤–∞—Ç–∞—Ä–æ–≤
const loadAvatar = async (url: string) => {
  try {
    const gltf = await loader.loadAsync(url);
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥–µ–ª–∏
  } catch (error) {
    // Fallback –Ω–∞ placeholder
  }
};
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
```typescript
// –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞
if (this.avatar) {
  this.scene.remove(this.avatar);
  this.avatar = null;
}
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–º–µ—Ä—É
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä**: 5MB
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä**: 1-3MB
- **–§–æ—Ä–º–∞—Ç**: GLB (–ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- **–¢–µ–∫—Å—Ç—É—Ä—ã**: 1024x1024 –∏–ª–∏ –º–µ–Ω—å—à–µ

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å V2V

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
```typescript
// Lip-sync –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —Å –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏
v2vService.setOnVoiceResponse((response) => {
  if (response.lip_sync_data) {
    setCurrentLipSyncData(response.lip_sync_data);
  }
});
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
```typescript
// –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞
const handleLoadAvatar = (avatarUrl: string) => {
  setCurrentAvatarUrl(avatarUrl);
  setShowAvatarLibrary(false);
};
```

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏
1. **–≠–∫—Å–ø–æ—Ä—Ç –≤ GLB/GLTF** —Ñ–æ—Ä–º–∞—Ç
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏–∏** (—É–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ–ª–∏–≥–æ–Ω–æ–≤)
3. **–°–∂–∞—Ç–∏–µ —Ç–µ–∫—Å—Ç—É—Ä** (WebP, JPEG)
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏** —Å Three.js

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ lip-sync
1. **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –º–µ—à–µ–π** (head, mouth, face)
2. **Morph targets** –¥–ª—è —Ç–æ—á–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
3. **Blend shapes** –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ–æ–Ω–µ–º–∞–º–∏

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –û—Ç–ª–∞–¥–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
```typescript
console.log('Loading avatar from:', url);
console.log('Avatar loaded successfully');
console.error('Failed to load avatar:', error);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è morph targets
if (mesh.morphTargetInfluences) {
  console.log('Morph targets available:', mesh.morphTargetInfluences.length);
}
```

## üöÄ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** –º–æ–¥–µ–ª–µ–π
- [ ] **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** –≤ 3D
- [ ] **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∞–≤–∞—Ç–∞—Ä–æ–≤** (–æ–¥–µ–∂–¥–∞, –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã)
- [ ] **–ê–Ω–∏–º–∞—Ü–∏–∏ –∂–µ—Å—Ç–æ–≤** –∏ –¥–≤–∏–∂–µ–Ω–∏–π
- [ ] **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ VR/AR** —Ä–µ–∂–∏–º–æ–≤
- [ ] **–°–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** –∞–≤–∞—Ç–∞—Ä–æ–≤
- [ ] **–ò–º–ø–æ—Ä—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö** –º–æ–¥–µ–ª–µ–π

### API —É–ª—É—á—à–µ–Ω–∏—è
- [ ] **Streaming –∑–∞–≥—Ä—É–∑–∫–∞** –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π
- [ ] **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –∞–≤–∞—Ç–∞—Ä–æ–≤
- [ ] **Lazy loading** –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- [ ] **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** –ø–æ–¥ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- [ ] **–û—Ñ–ª–∞–π–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∞** –∞–≤–∞—Ç–∞—Ä–æ–≤

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Ready Player Me](https://readyplayer.me/) - –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–æ–≤
- [Mixamo](https://www.mixamo.com/) - –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏
- [Poly Haven](https://polyhaven.com/) - CC0 3D —Ä–µ—Å—É—Ä—Å—ã
- [Sketchfab](https://sketchfab.com/) - 3D –º–æ–¥–µ–ª–∏
- [Three.js GLTFLoader](https://threejs.org/docs/#examples/en/loaders/GLTFLoader)
- [GLTF Specification](https://github.com/KhronosGroup/glTF)

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–æ—Å—Ç—ã—Ö** –∞–≤–∞—Ç–∞—Ä–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏–∏** –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –º–æ–¥–µ–ª–∏** –¥–ª—è –≤–µ–±-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ lip-sync** —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ fallback** –Ω–∞ placeholder –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
6. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
